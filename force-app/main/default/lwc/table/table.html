<template>
  <!-- Header start-->
  <div class="slds-page-header">
    <p class="slds-page-header__title slds-truncate" title="">Personal Information List</p>
    <template if:true={modeList}>
      <span class="slds-badge">Selected record: {numberSelected}</span>
      <lightning-combobox class="slds-float_right" name="limitPage" label="Limit Page: " value={limitPage}
        options={optionsLimit} onchange={handleChangeLimitPage} placeholder={getLabelLimitPage}></lightning-combobox>
      <div class="slds-grid slds-grid--align-end">
        <lightning-button-icon icon-class="slds-m-around_medium" icon-name="utility:settings"
          alternative-text="Settings" title="Settings" onclick={openSetting}></lightning-button-icon>
        <button class="slds-button slds-button--brand" name="Edit" onclick={editTable}>{getLabelEdit}</button>
        <button class="slds-button slds-button--brand" name="DeleteRecords" onclick={deleteSelected}
          disabled={disableDelete}>Delete</button>
      </div>
    </template>
  </div>
  <!-- Header end -->
  <template if:true={modeList}>
    <!-- Table list record start -->
    <lightning-datatable key-field="Id" data={dataTable} onrowaction={handleRowAction} row-number-offset={rowOffset}
      draft-values={draftValues} show-row-number-column onrowselection={getSelectedRows} columns={columns}
      onsave={handleSave}>
    </lightning-datatable>
    <!-- Table list record end -->

    <!--  Pagination buttons start -->
    <div class="slds-align_absolute-center">
      <lightning-button label="Previous" onclick={handleNavigation} variant="brand" icon-name="utility:back"
        disabled={disableBack} name="previous"></lightning-button>

      <span class="slds-badge slds-badge_lightest label-red" style="margin-right: 10px;margin-left: 10px;">
        Page {currentPage} out of {totalPageInList}
      </span>

      <lightning-button label="Next" onclick={handleNavigation} variant="brand" icon-name="utility:forward"
        disabled={disableNext} icon-position="right" name="next"></lightning-button>
    </div>
    <!--  Pagination buttons end -->

    <!--  Preview detail popup start -->
    <template if:true={bShowModal}>
      <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
        aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <header class="slds-modal__header">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"
              onclick={closeModal}>
              <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small">
              </lightning-icon>
            </button>
            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Record Detail</h2>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
            <dl class="slds-list_horizontal slds-wrap">
              <dt class="slds-item_label slds-truncate" title="Name">First Name:</dt>
              <dd class="slds-item_detail slds-truncate">{record.first_name__c}</dd>
              <dt class="slds-item_label slds-truncate" title="Phone">Last Name:</dt>
              <dd class="slds-item_detail slds-truncate">{record.last_name__c}</dd>
              <dt class="slds-item_label slds-truncate" title="Type">Birthday :</dt>
              <dd class="slds-item_detail slds-truncate">{record.birthday__c}</dd>
              <dt class="slds-item_label slds-truncate" title="Industry">Address :</dt>
              <dd class="slds-item_detail slds-truncate">{record.address__c}</dd>
              <dt class="slds-item_label slds-truncate" title="Website">Email :</dt>
              <dd class="slds-item_detail slds-truncate">{record.email__c}</dd>
              <dt class="slds-item_label slds-truncate" title="Rating">Phone :</dt>
              <dd class="slds-item_detail slds-truncate">{record.phone_number__c}</dd>
              <dt class="slds-item_label slds-truncate" title="Rating">Links :</dt>
              <dd class="slds-item_detail slds-truncate">{record.links__c}</dd>
              <dt class="slds-item_label slds-truncate" title="Rating">Bio :</dt>
              <dd class="slds-item_detail slds-truncate">{record.bio__c}</dd>
            </dl>
          </div>
          <footer class="slds-modal__footer">
            <lightning-button variant="brand" label="Close" title="Close" onclick={closeModal}></lightning-button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
  </template>
  <!--  Preview detail popup end -->

  <!-- Setting Page Start-->
  <template if:false={modeList}>
    <c-setting-page lst-field={getDataForTableSetting} all-field={allFiled} update-data-table={updateTable} update-field={updateFieldTable} close-setting={closeSetting}></c-setting-page>
  </template>
  <!-- Setting Page End-->
<div>
  <c-add-edit-personal-info input-data={infoData} all-field={allFiled}></c-add-edit-personal-info>
</div>
</template>